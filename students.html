<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Caring Heart - Student Portal</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="header-brand">
            <img src="img/slazzer-edit-image-removebg-preview (1)_preview_rev_1.png" alt="Caring Heart Logo" class="header-logo" />
            <h1 class="brand-title">Caring Heart</h1>
        </div>
        <button class="menu-toggle" aria-label="Toggle Menu" onclick="toggleDropdown()">
            <i class="fas fa-bars"></i>
        </button>
        <div class="dropdown-panel" id="dropdownPanel">
            </div>
    </header>

    <div class="container">
        <section class="portal-header">
            <h2>Student Attendance View</h2>
            <p class="sub-heading">Select your class and date to view attendance records.</p>
        </section>

        <section class="class-selection-section">
            <h2>Select Your Class</h2>
            <div class="class-selection" id="classButtonsContainer">
                </div>
            <p class="info-text">Please select your class to view attendance.</p>
        </section>

        <section class="date-selection-section">
            <h2>Select Date</h2>
            <div class="input-group">
                <label for="attendanceDate" class="sr-only">Attendance Date</label>
                <input type="date" id="attendanceDate" />
                <button id="viewAttendanceBtn" class="action-button primary-button">
                    <i class="fas fa-eye icon"></i> View Attendance
                </button>
            </div>
        </section>

        <section class="attendance-table-section">
            <h2>Attendance Records for <span id="displayClass"></span> on <span id="displayDate"></span></h2>
            <div class="table-responsive">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Roll Number</th>
                            <th>Student Name</th>
                            <th>Attendance Status</th>
                        </tr>
                    </thead>
                    <tbody id="attendanceTableBody">
                        <tr><td colspan="3">Select a class and date to view attendance.</td></tr>
                    </tbody>
                </table>
            </div>
            <p class="info-text small-text">
                <i class="fas fa-info-circle info-icon"></i> Attendance data is loaded from the system.
            </p>
        </section>

        <div class="navigation-buttons">
            <a href="index.html" class="section-button small-button">
                <i class="fas fa-home icon"></i>
                <span class="button-text">Home</span>
            </a>
        </div>

        <footer class="system-footer" role="contentinfo">
            <p>&copy; <span id="current-year"></span> Caring Heart. All rights reserved.</p>
            <p>Made with &hearts; by Nyola Gift.</p>
            <p>Powered by Firebase.</p>
        </footer>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    <script src="js/firebase-init.js"></script>
    <script src="js/students.js"></script> <script>
        // Set current year in footer dynamically
        document.getElementById('current-year').textContent = new Date().getFullYear();

        // Toggle dropdown menu for mobile/smaller screens
        function toggleDropdown() {
            const dropdown = document.getElementById('dropdownPanel');
            dropdown.classList.toggle('show');
            const menuToggleBtn = document.querySelector('.menu-toggle');
            const isExpanded = menuToggleBtn.getAttribute('aria-expanded') === 'true';
            menuToggleBtn.setAttribute('aria-expanded', !isExpanded);
        }
    </script>
</body>
</html>
